<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>社区鲜事-小蜜蜂</title>
    <!-- Tailwind CSS v3 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome 4.7.0 -->
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>
    <!-- 统一的 Tailwind 配置 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#FF9F43',
                        secondary: '#10AC84',
                        lightOrange: '#FFBE7D',
                        darkGreen: '#0B805E',
                        error: '#EE5A24',
                        warning: '#F39C12',
                        success: '#27AE60',
                        info: '#3498DB',
                        neutralGray: '#9CA3AF',
                    },
                    fontFamily: {
                        sans: ['PingFang SC', 'Helvetica Neue', 'Arial', 'sans-serif'],
                    },
                    animation: {
                        'bounce-slow': 'bounce 2s infinite',
                        'honey-load': 'honeyLoad 1.5s infinite',
                    },
                    keyframes: {
                        bounce: {
                            '0%, 100%': { transform: 'translateY(-5%)' },
                            '50%': { transform: 'translateY(0)' },
                        },
                        honeyLoad: {
                            '0%, 100%': { transform: 'rotate(0deg)' },
                            '25%': { transform: 'rotate(5deg)' },
                            '50%': { transform: 'rotate(0deg)' },
                            '75%': { transform: 'rotate(-5deg)' },
                        }
                    },
                    boxShadow: {
                        'card': '0 2px 10px rgba(0, 0, 0, 0.05)',
                        'btn': '0 2px 5px rgba(0, 0, 0, 0.1)',
                    }
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .btn-shadow {
                box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            }
            .btn-hover {
                transition: all 0.3s ease;
            }
            .btn-hover:hover {
                transform: translateY(-2px);
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
            }
            .scrollbar-hide::-webkit-scrollbar {
                display: none;
            }
            .scrollbar-hide {
                -ms-overflow-style: none;
                scrollbar-width: none;
            }
            .like-animation {
                animation: heartBeat 0.3s;
            }
            @keyframes heartBeat {
                0% { transform: scale(1); }
                50% { transform: scale(1.3); }
                100% { transform: scale(1); }
            }
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <div id="app" class="max-w-md mx-auto bg-white min-h-screen relative">
        <!-- 登录页 -->
        <div id="login-page" class="page min-h-screen flex flex-col items-center justify-center p-4">
            <div class="w-full max-w-sm">
                <!-- Logo -->
                <div class="flex justify-center mb-8">
                    <img src="https://p26-flow-imagex-download-sign.byteimg.com/tos-cn-i-a9rns2rl98/189fb8d007c64072bbdfd4a23ecd3e9c.png~tplv-a9rns2rl98-24:720:720.png?rcl=20251126220915DD8B33C50CD38D0947E7&rk3s=8e244e95&rrcfp=8a172a1a&x-expires=1764770956&x-signature=twEFES7WGPso2S%2FHNUoIvwBJ8Hg%3D" alt="社区鲜事-小蜜蜂" class="w-48 h-48">
                </div>
                
                <!-- 标题 -->
                <h1 class="text-2xl font-bold text-center text-darkGreen mb-8">社区鲜事-小蜜蜂</h1>
                
                <!-- 社区选择 -->
                <div class="mb-6">
                    <label for="community" class="block text-sm font-medium text-gray-700 mb-1">选择社区</label>
                    <select id="community" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary">
                        <option value="">请选择您所在的社区</option>
                        <!-- 新原街道社区 -->
                        <option value="1">太平街社区</option>
                        <option value="2">新华街社区</option>
                        <option value="3">解放街社区</option>
                        <option value="4">南滩社区</option>
                        <option value="5">桥南社区</option>
                        <option value="6">铁路社区</option>
                        <option value="7">永兴社区</option>
                        <!-- 北城街道社区 -->
                        <option value="8">城西社区</option>
                        <option value="9">永康路社区</option>
                        <option value="10">京原路社区</option>
                        <option value="11">永兴路社区</option>
                        <option value="12">平安大街社区</option>
                        <!-- 南城街道社区 -->
                        <option value="13">建设街社区</option>
                        <option value="14">教育路社区</option>
                        <option value="15">体育路社区</option>
                        <!-- 吉祥街道社区 -->
                        <option value="16">吉祥花园社区</option>
                        <option value="17">沙河桥社区</option>
                        <!-- 轩煤矿区街道社区 -->
                        <option value="18">机关社区</option>
                        <option value="19">焦家寨矿社区</option>
                        <option value="20">刘家梁矿社区</option>
                        <option value="21">六亩地矿社区</option>
                        <option value="22">黄甲堡矿社区</option>
                    </select>
                </div>
                
                <!-- 用户名输入 -->
                <div class="mb-6">
                    <label for="username" class="block text-sm font-medium text-gray-700 mb-1">用户名</label>
                    <input type="text" id="username" placeholder="请输入用户名" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary">
                </div>
                
                <!-- 密码输入 -->
                <div class="mb-6">
                    <label for="password" class="block text-sm font-medium text-gray-700 mb-1">密码</label>
                    <input type="password" id="password" placeholder="请输入密码" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary">
                </div>
                
                <!-- 记住我和忘记密码 -->
                <div class="mb-8 flex items-center justify-between">
                    <div class="flex items-center">
                        <input type="checkbox" id="remember-me" class="w-4 h-4 text-primary focus:ring-primary border-gray-300 rounded">
                        <label for="remember-me" class="ml-2 block text-sm text-gray-700">
                            记住我
                        </label>
                    </div>
                    <div class="flex items-center space-x-4">
                        <a href="#" class="text-sm text-primary hover:text-primary-dark">
                            忘记密码?
                        </a>
                        <a href="#" id="register-link" class="text-sm text-primary hover:text-primary-dark">
                            注册
                        </a>
                    </div>
                </div>
                
                <!-- 登录按钮 -->
                <button id="login-btn" class="w-full bg-gradient-to-r from-primary to-secondary text-white py-3 rounded-lg font-medium btn-shadow btn-hover transition-all duration-300">
                    登录
                </button>
                
                <!-- 协议说明 -->
                <p class="text-xs text-neutralGray mt-6 text-center">
                    登录即表示您同意《用户协议》和《隐私政策》
                </p>
                
                <!-- 测试账号信息 -->
                <div class="mt-8 bg-gray-50 p-4 rounded-lg">
                    <h3 class="text-sm font-medium text-gray-700 mb-2">测试账号</h3>
                    <div class="space-y-2">
                        <div class="flex justify-between">
                            <span class="text-xs text-gray-600">zhangsan</span>
                            <span class="text-xs text-gray-600">123456</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-xs text-gray-600">lisi</span>
                            <span class="text-xs text-gray-600">123456</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-xs text-gray-600">wangwu</span>
                            <span class="text-xs text-gray-600">123456</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-xs text-gray-600">zhaoliu</span>
                            <span class="text-xs text-gray-600">123456</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-xs text-gray-600">admin (管理员)</span>
                            <span class="text-xs text-gray-600">YuanPing2025!</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 首页 -->
        <div id="home-page" class="page hidden min-h-screen flex flex-col">
            <header class="bg-white shadow-sm sticky top-0 z-10">
                <div class="flex items-center justify-between p-4">
                    <div class="flex items-center">
                        <img src="https://p26-flow-imagex-download-sign.byteimg.com/tos-cn-i-a9rns2rl98/189fb8d007c64072bbdfd4a23ecd3e9c.png~tplv-a9rns2rl98-24:720:720.png?rcl=20251126220915DD8B33C50CD38D0947E7&rk3s=8e244e95&rrcfp=8a172a1a&x-expires=1764770956&x-signature=twEFES7WGPso2S%2FHNUoIvwBJ8Hg%3D" alt="社区鲜事-小蜜蜂" class="w-8 h-8 mr-2">
                        <h1 class="text-lg font-bold text-darkGreen">社区鲜事</h1>
                    </div>
                    <div class="flex items-center">
                        <button class="w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 mr-2">
                            <i class="fa fa-search text-gray-500"></i>
                        </button>
                        <button class="w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100">
                            <i class="fa fa-bell-o text-gray-500"></i>
                        </button>
                    </div>
                </div>
                
                <!-- 分类标签 -->
                <div class="relative overflow-x-auto scrollbar-hide">
                    <div class="flex space-x-6 px-4 py-3 min-w-max">
                        <button class="category-btn active whitespace-nowrap text-primary font-medium relative">
                            推荐
                            <span class="tab-indicator absolute bottom-0 left-0 w-full h-0.5 bg-primary"></span>
                        </button>
                        <button class="category-btn whitespace-nowrap text-gray-500 font-medium relative">
                            邻里日常
                        </button>
                        <button class="category-btn whitespace-nowrap text-gray-500 font-medium relative">
                            社区活动
                        </button>
                        <button class="category-btn whitespace-nowrap text-gray-500 font-medium relative">
                            便民通知
                        </button>
                        <button class="category-btn whitespace-nowrap text-gray-500 font-medium relative">
                            文化传承
                        </button>
                        <button class="category-btn whitespace-nowrap text-gray-500 font-medium relative">
                            爱心互助
                        </button>
                    </div>
                </div>
                
                <!-- 排序选项 -->
                <div class="flex border-t border-gray-100">
                    <button class="sort-btn active flex-1 py-2 text-center text-sm font-medium text-primary border-b-2 border-primary">
                        最新
                    </button>
                    <button class="sort-btn flex-1 py-2 text-center text-sm font-medium text-gray-500">
                        热门
                    </button>
                    <button class="sort-btn flex-1 py-2 text-center text-sm font-medium text-gray-500">
                        关注
                    </button>
                </div>
            </header>
            
            <main class="flex-1 overflow-y-auto bg-gray-50 p-4">
                <!-- 置顶公告 -->
                <div class="bg-white rounded-lg p-4 mb-4 card-shadow border-l-4 border-primary">
                    <div class="flex items-center mb-2">
                        <i class="fa fa-bullhorn text-primary mr-2"></i>
                        <h3 class="font-medium text-gray-800">社区公告</h3>
                        <span class="ml-auto text-xs text-gray-400">2小时前</span>
                    </div>
                    <p class="text-gray-600 text-sm">关于开展"邻里互助，共创和谐"社区志愿服务活动的通知，请各位居民积极参与...</p>
                    <div class="mt-2 flex justify-end">
                        <button class="text-xs text-primary">查看详情 <i class="fa fa-angle-right ml-1"></i></button>
                    </div>
                </div>
                
                <!-- 内容列表 -->
                <div class="space-y-4">
                    <!-- 内容卡片 1 -->
                    <div class="bg-white rounded-lg overflow-hidden card-shadow">
                        <div class="p-4">
                            <div class="flex items-center mb-3">
                                <div class="w-8 h-8 rounded-full bg-primary text-white flex items-center justify-center mr-2">
                                    <span class="text-xs font-medium">张</span>
                                </div>
                                <div>
                                    <h4 class="text-sm font-medium text-gray-800">张阿姨</h4>
                                    <p class="text-xs text-gray-400">1小时前</p>
                                </div>
                                <button class="ml-auto text-gray-400">
                                    <i class="fa fa-ellipsis-h"></i>
                                </button>
                            </div>
                            <p class="text-gray-700 mb-3">今天天气真好，小区花园里的花开得真美，邻居们都出来晒太阳聊天，感觉特别温馨。</p>
                            <div class="rounded-lg overflow-hidden">
                                <img src="https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/super_tool/73bb4fdb12154ae3a305bf52c882ae60~tplv-a9rns2rl98-image.image?rcl=202511262129380C185618F64886CC9AFE&rk3s=8e244e95&rrcfp=f06b921b&x-expires=1766755857&x-signature=jEc%2BYgTrZsqBVgCrYfG5z6YGfJE%3D" alt="社区花园" class="w-full h-48 object-cover">
                            </div>
                            <div class="flex items-center justify-between mt-3 text-sm">
                                <div class="flex items-center space-x-4">
                                    <button class="like-btn flex items-center text-gray-500 hover:text-primary">
                                        <i class="fa fa-heart-o mr-1"></i>
                                        <span>24</span>
                                    </button>
                                    <button class="flex items-center text-gray-500">
                                        <i class="fa fa-comment-o mr-1"></i>
                                        <span>8</span>
                                    </button>
                                </div>
                                <div class="flex items-center space-x-4">
                                    <button class="flex items-center text-gray-500">
                                        <i class="fa fa-star-o mr-1"></i>
                                        <span>收藏</span>
                                    </button>
                                    <button class="flex items-center text-gray-500">
                                        <i class="fa fa-share mr-1"></i>
                                        <span>分享</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <!-- 评论区 -->
                        <div class="border-t border-gray-100 p-3 bg-gray-50">
                            <div class="flex items-center mb-2">
                                <div class="w-6 h-6 rounded-full bg-secondary text-white flex items-center justify-center mr-2">
                                    <span class="text-xs">李</span>
                                </div>
                                <div class="bg-white rounded-full px-3 py-1 text-xs">
                                    <span class="font-medium text-gray-800">李叔叔</span>
                                    <span class="text-gray-600 ml-1">是啊，今天天气确实不错，我也在花园里散步了</span>
                                </div>
                            </div>
                            <div class="flex items-center">
                                <div class="w-6 h-6 rounded-full bg-lightOrange text-white flex items-center justify-center mr-2">
                                    <span class="text-xs">王</span>
                                </div>
                                <div class="bg-white rounded-full px-3 py-1 text-xs">
                                    <span class="font-medium text-gray-800">王阿姨</span>
                                    <span class="text-gray-600 ml-1">我家的花也开了，改天拍给大家看看</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 内容卡片 2 -->
                    <div class="bg-white rounded-lg overflow-hidden card-shadow">
                        <div class="p-4">
                            <div class="flex items-center mb-3">
                                <div class="w-8 h-8 rounded-full bg-secondary text-white flex items-center justify-center mr-2">
                                    <span class="text-xs font-medium">李</span>
                                </div>
                                <div>
                                    <h4 class="text-sm font-medium text-gray-800">李叔叔</h4>
                                    <p class="text-xs text-gray-400">3小时前</p>
                                </div>
                                <button class="ml-auto text-gray-400">
                                    <i class="fa fa-ellipsis-h"></i>
                                </button>
                            </div>
                            <p class="text-gray-700 mb-3">今天社区组织了垃圾分类宣传活动，大家积极参与，学到了很多知识。</p>
                            <div class="grid grid-cols-2 gap-2 rounded-lg overflow-hidden">
                                <img src="https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/super_tool/73bb4fdb12154ae3a305bf52c882ae60~tplv-a9rns2rl98-image.image?rcl=202511262129380C185618F64886CC9AFE&rk3s=8e244e95&rrcfp=f06b921b&x-expires=1766755857&x-signature=jEc%2BYgTrZsqBVgCrYfG5z6YGfJE%3D" alt="社区活动" class="w-full h-32 object-cover">
                                <img src="https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/super_tool/73bb4fdb12154ae3a305bf52c882ae60~tplv-a9rns2rl98-image.image?rcl=202511262129380C185618F64886CC9AFE&rk3s=8e244e95&rrcfp=f06b921b&x-expires=1766755857&x-signature=jEc%2BYgTrZsqBVgCrYfG5z6YGfJE%3D" alt="社区活动" class="w-full h-32 object-cover">
                            </div>
                            <div class="flex items-center justify-between mt-3 text-sm">
                                <div class="flex items-center space-x-4">
                                    <button class="like-btn flex items-center text-gray-500 hover:text-primary">
                                        <i class="fa fa-heart-o mr-1"></i>
                                        <span>18</span>
                                    </button>
                                    <button class="flex items-center text-gray-500">
                                        <i class="fa fa-comment-o mr-1"></i>
                                        <span>5</span>
                                    </button>
                                </div>
                                <div class="flex items-center space-x-4">
                                    <button class="flex items-center text-gray-500">
                                        <i class="fa fa-star-o mr-1"></i>
                                        <span>收藏</span>
                                    </button>
                                    <button class="flex items-center text-gray-500">
                                        <i class="fa fa-share mr-1"></i>
                                        <span>分享</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 内容卡片 3 -->
                    <div class="bg-white rounded-lg overflow-hidden card-shadow">
                        <div class="p-4">
                            <div class="flex items-center mb-3">
                                <div class="w-8 h-8 rounded-full bg-lightOrange text-white flex items-center justify-center mr-2">
                                    <span class="text-xs font-medium">王</span>
                                </div>
                                <div>
                                    <h4 class="text-sm font-medium text-gray-800">王阿姨</h4>
                                    <p class="text-xs text-gray-400">昨天</p>
                                </div>
                                <button class="ml-auto text-gray-400">
                                    <i class="fa fa-ellipsis-h"></i>
                                </button>
                            </div>
                            <p class="text-gray-700 mb-3">社区通知：明天上午9点将在社区广场进行免费体检，请各位居民携带身份证前往参加。</p>
                            <div class="flex items-center justify-between mt-3 text-sm">
                                <div class="flex items-center space-x-4">
                                    <button class="like-btn flex items-center text-gray-500 hover:text-primary">
                                        <i class="fa fa-heart-o mr-1"></i>
                                        <span>32</span>
                                    </button>
                                    <button class="flex items-center text-gray-500">
                                        <i class="fa fa-comment-o mr-1"></i>
                                        <span>12</span>
                                    </button>
                                </div>
                                <div class="flex items-center space-x-4">
                                    <button class="flex items-center text-gray-500">
                                        <i class="fa fa-star-o mr-1"></i>
                                        <span>收藏</span>
                                    </button>
                                    <button class="flex items-center text-gray-500">
                                        <i class="fa fa-share mr-1"></i>
                                        <span>分享</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 加载更多 -->
                <div class="flex justify-center mt-6 mb-10">
                    <button class="text-primary text-sm font-medium flex items-center">
                        加载更多
                        <i class="fa fa-angle-down ml-1"></i>
                    </button>
                </div>
            </main>
            
            <!-- 底部导航栏 -->
            <nav class="bg-white shadow-lg border-t border-gray-200 fixed bottom-0 left-0 right-0 max-w-md mx-auto z-10">
                <div class="flex justify-around">
                    <button class="nav-btn active flex flex-col items-center py-2 px-4">
                        <i class="fa fa-home text-lg"></i>
                        <span class="text-xs mt-1">首页</span>
                    </button>
                    <button class="nav-btn flex flex-col items-center py-2 px-4">
                        <i class="fa fa-compass text-lg"></i>
                        <span class="text-xs mt-1">发现</span>
                    </button>
                    <button id="publish-btn" class="nav-btn flex flex-col items-center py-2 px-4 relative">
                        <div class="w-12 h-12 rounded-full bg-gradient-to-r from-primary to-secondary flex items-center justify-center text-white shadow-lg -mt-5">
                            <i class="fa fa-plus text-xl"></i>
                        </div>
                        <span class="text-xs mt-1">发布</span>
                    </button>
                    <button class="nav-btn flex flex-col items-center py-2 px-4">
                        <i class="fa fa-comment-o text-lg"></i>
                        <span class="text-xs mt-1">消息</span>
                    </button>
                    <button class="nav-btn flex flex-col items-center py-2 px-4">
                        <i class="fa fa-user-o text-lg"></i>
                        <span class="text-xs mt-1">我的</span>
                    </button>
                </div>
            </nav>
        </div>
        
        <!-- 个人中心 -->
        <div id="profile-page" class="page hidden min-h-screen flex flex-col bg-white">
            <header class="bg-gradient-to-r from-primary to-secondary py-6 px-4 text-white">
                <div class="flex justify-between items-center">
                    <h2 class="text-xl font-bold">我的</h2>
                    <button class="w-8 h-8 rounded-full bg-white bg-opacity-20 flex items-center justify-center">
                        <i class="fa fa-cog"></i>
                    </button>
                </div>
            </header>
            
            <!-- 个人信息 -->
            <div class="px-4 -mt-10">
                <div class="bg-white rounded-lg p-4 card-shadow">
                    <div class="flex items-center">
                        <div class="w-16 h-16 rounded-full bg-primary text-white flex items-center justify-center mr-4 relative">
                            <span class="text-xl font-medium">张</span>
                            <div class="absolute bottom-0 right-0 w-4 h-4 rounded-full bg-secondary border-2 border-white flex items-center justify-center">
                                <i class="fa fa-star text-white text-xs"></i>
                            </div>
                        </div>
                        <div class="flex-1">
                            <div class="flex items-center">
                                <h3 class="text-lg font-medium text-gray-800">张阿姨</h3>
                                <span class="ml-2 bg-primary text-white text-xs px-1.5 py-0.5 rounded">普通居民</span>
                            </div>
                            <p class="text-sm text-gray-500">阳光花园社区 · <span class="text-primary">初级工蜂</span></p>
                            <div class="flex items-center mt-2">
                                <div class="flex-1 flex items-center">
                                    <div class="w-full bg-gray-200 rounded-full h-2">
                                        <div class="bg-gradient-to-r from-primary to-secondary h-2 rounded-full" style="width: 65%"></div>
                                    </div>
                                    <span class="ml-2 text-xs text-gray-500">650/1000</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 等级特权 -->
                    <div class="mt-4 p-3 bg-gray-50 rounded-lg">
                        <div class="flex items-center justify-between mb-2">
                            <h4 class="text-sm font-medium text-gray-700">等级特权</h4>
                            <button class="text-xs text-primary">查看全部</button>
                        </div>
                        <div class="grid grid-cols-3 gap-2 text-center">
                            <div class="bg-white p-2 rounded-lg text-xs">
                                <div class="w-6 h-6 mx-auto rounded-full bg-primary bg-opacity-10 flex items-center justify-center mb-1">
                                    <i class="fa fa-image text-primary text-xs"></i>
                                </div>
                                <p class="text-gray-600">每日可发<span class="text-primary font-medium">10</span>条</p>
                            </div>
                            <div class="bg-white p-2 rounded-lg text-xs">
                                <div class="w-6 h-6 mx-auto rounded-full bg-secondary bg-opacity-10 flex items-center justify-center mb-1">
                                    <i class="fa fa-star text-secondary text-xs"></i>
                                </div>
                                <p class="text-gray-600">内容优先审核</p>
                            </div>
                            <div class="bg-white p-2 rounded-lg text-xs">
                                <div class="w-6 h-6 mx-auto rounded-full bg-lightOrange bg-opacity-10 flex items-center justify-center mb-1">
                                    <i class="fa fa-gift text-lightOrange text-xs"></i>
                                </div>
                                <p class="text-gray-600">每月<span class="text-primary font-medium">2</span>次抽奖</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 积分信息 -->
                    <div class="flex justify-around mt-4 pt-4 border-t border-gray-100">
                        <div class="text-center">
                            <p class="text-lg font-bold text-primary">650</p>
                            <p class="text-xs text-gray-500">小蜜蜂积分</p>
                        </div>
                        <div class="text-center">
                            <p class="text-lg font-bold text-gray-800">12</p>
                            <p class="text-xs text-gray-500">我的发布</p>
                        </div>
                        <div class="text-center">
                            <p class="text-lg font-bold text-gray-800">36</p>
                            <p class="text-xs text-gray-500">我的收藏</p>
                        </div>
                        <div class="text-center">
                            <p class="text-lg font-bold text-gray-800">89</p>
                            <p class="text-xs text-gray-500">获赞数</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 功能菜单 -->
            <div class="mt-4 px-4">
                <div class="bg-white rounded-lg overflow-hidden card-shadow">
                    <!-- 我的内容 -->
                    <div class="border-b border-gray-100">
                        <div class="flex items-center justify-between p-4">
                            <div class="flex items-center">
                                <div class="w-8 h-8 rounded-full bg-primary bg-opacity-10 flex items-center justify-center mr-3">
                                    <i class="fa fa-file-text-o text-primary"></i>
                                </div>
                                <span class="text-gray-800">我的发布</span>
                            </div>
                            <i class="fa fa-angle-right text-gray-400"></i>
                        </div>
                    </div>
                    
                    <!-- 我的收藏 -->
                    <div class="border-b border-gray-100">
                        <div class="flex items-center justify-between p-4">
                            <div class="flex items-center">
                                <div class="w-8 h-8 rounded-full bg-secondary bg-opacity-10 flex items-center justify-center mr-3">
                                    <i class="fa fa-star-o text-secondary"></i>
                                </div>
                                <span class="text-gray-800">我的收藏</span>
                            </div>
                            <i class="fa fa-angle-right text-gray-400"></i>
                        </div>
                    </div>
                    
                    <!-- 积分中心 -->
                    <div class="border-b border-gray-100">
                        <div class="flex items-center justify-between p-4">
                            <div class="flex items-center">
                                <div class="w-8 h-8 rounded-full bg-lightOrange bg-opacity-10 flex items-center justify-center mr-3">
                                    <i class="fa fa-diamond text-lightOrange"></i>
                                </div>
                                <span class="text-gray-800">积分中心</span>
                            </div>
                            <i class="fa fa-angle-right text-gray-400"></i>
                        </div>
                    </div>
                    
                    <!-- 活动报名 -->
                    <div class="border-b border-gray-100">
                        <div class="flex items-center justify-between p-4">
                            <div class="flex items-center">
                                <div class="w-8 h-8 rounded-full bg-info bg-opacity-10 flex items-center justify-center mr-3">
                                    <i class="fa fa-calendar-o text-info"></i>
                                </div>
                                <span class="text-gray-800">活动报名</span>
                            </div>
                            <i class="fa fa-angle-right text-gray-400"></i>
                        </div>
                    </div>
                    
                    <!-- 我的消息 -->
                    <div>
                        <div class="flex items-center justify-between p-4">
                            <div class="flex items-center">
                                <div class="w-8 h-8 rounded-full bg-error bg-opacity-10 flex items-center justify-center mr-3">
                                    <i class="fa fa-bell-o text-error"></i>
                                </div>
                                <span class="text-gray-800">我的消息</span>
                            </div>
                            <i class="fa fa-angle-right text-gray-400"></i>
                        </div>
                    </div>
                </div>
                
                <!-- 管理员入口 (默认隐藏) -->
                <div class="mt-4 bg-white rounded-lg overflow-hidden card-shadow hidden">
                    <div class="flex items-center justify-between p-4">
                        <div class="flex items-center">
                            <div class="w-8 h-8 rounded-full bg-error bg-opacity-10 flex items-center justify-center mr-3">
                                <i class="fa fa-cog text-error"></i>
                            </div>
                            <span class="text-gray-800">管理员后台</span>
                        </div>
                        <i class="fa fa-angle-right text-gray-400"></i>
                    </div>
                </div>
                
                <!-- 帮助与反馈 -->
                <div class="mt-4 bg-white rounded-lg overflow-hidden card-shadow">
                    <div class="flex items-center justify-between p-4">
                        <div class="flex items-center">
                            <div class="w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center mr-3">
                                <i class="fa fa-question-circle-o text-gray-500"></i>
                            </div>
                            <span class="text-gray-800">帮助与反馈</span>
                        </div>
                        <i class="fa fa-angle-right text-gray-400"></i>
                    </div>
                </div>
                
                <!-- 关于我们 -->
                <div class="mt-4 bg-white rounded-lg overflow-hidden card-shadow">
                    <div class="flex items-center justify-between p-4">
                        <div class="flex items-center">
                            <div class="w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center mr-3">
                                <i class="fa fa-info-circle-o text-gray-500"></i>
                            </div>
                            <span class="text-gray-800">关于我们</span>
                        </div>
                        <i class="fa fa-angle-right text-gray-400"></i>
                    </div>
                </div>
            </div>
            
            <!-- 退出登录 -->
            <div class="mt-6 mb-20 px-4">
                <button id="logout-btn" class="w-full border border-gray-300 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-50 transition-colors">
                    退出登录
                </button>
            </div>
        </div>
    </div>

    <script>
        // 全局变量
        const app = {
            // 用户数据 - 确保格式正确
            users: [
                { id: 1, username: 'zhangsan', password: '123456', name: '张三', avatar: '张', role: 'creator', community: '太平街社区', level: '初级工蜂', exp: 650, expToNextLevel: 1000, points: 650, posts: 12, collections: 36, likes: 89 },
                { id: 2, username: 'lisi', password: '123456', name: '李四', avatar: '李', role: 'resident', community: '新华街社区', level: '小蜜蜂', exp: 150, expToNextLevel: 200, points: 150, posts: 5, collections: 10, likes: 25 },
                { id: 3, username: 'wangwu', password: '123456', name: '王五', avatar: '王', role: 'creator', community: '解放街社区', level: '初级工蜂', exp: 800, expToNextLevel: 1000, points: 800, posts: 15, collections: 40, likes: 95 },
                { id: 4, username: 'zhaoliu', password: '123456', name: '赵六', avatar: '赵', role: 'creator', community: '南滩社区', level: '初级工蜂', exp: 950, expToNextLevel: 1000, points: 950, posts: 18, collections: 45, likes: 120 }
            ],
            user: {
                id: 1,
                name: '张阿姨',
                avatar: '张',
                role: 'resident', // resident, creator, admin
                community: '阳光花园社区',
                level: '初级工蜂',
                exp: 650,
                expToNextLevel: 1000,
                points: 650,
                posts: 12,
                collections: 36,
                likes: 89
            },
            aiTags: [
                '社区美景', '邻里情深', '生活分享',
                '社区活动', '便民服务', '文化传承',
                '爱心互助', '节日庆典', '社区公告'
            ],
            userLevels: [
                { name: '小蜜蜂', exp: 200, privileges: ['每日可发5条', '基础社区服务'] },
                { name: '初级工蜂', exp: 1000, privileges: ['每日可发10条', '内容优先审核', '每月2次抽奖'] },
                { name: '活跃工蜂', exp: 3000, privileges: ['每日可发15条', '内容优先审核', '每月4次抽奖', '专属徽章'] },
                { name: '精英工蜂', exp: 5000, privileges: ['每日可发20条', '内容优先审核', '每月6次抽奖', '专属徽章', '活动优先参与'] },
                { name: '社区蜂王', exp: 10000, privileges: ['无限发布', '内容优先审核', '每月10次抽奖', '专属徽章', '活动优先参与', '社区事务投票权'] }
            ],
            
            // 检查是否记住登录状态
            checkRememberedLogin() {
                const rememberedUser = localStorage.getItem('rememberedUser');
                if (rememberedUser) {
                    try {
                        const userData = JSON.parse(rememberedUser);
                        app.user = userData;
                        return true;
                    } catch (e) {
                        console.error('Failed to parse remembered user data:', e);
                        localStorage.removeItem('rememberedUser');
                    }
                }
                return false;
            },
            
            // 保存登录状态
            saveLoginState(remember = false) {
                if (remember) {
                    localStorage.setItem('rememberedUser', JSON.stringify(app.user));
                } else {
                    localStorage.removeItem('rememberedUser');
                }
            },
            
            // 清除登录状态
            clearLoginState() {
                localStorage.removeItem('rememberedUser');
                app.user = {
                    id: 1,
                    name: '张阿姨',
                    avatar: '张',
                    role: 'resident', // resident, creator, admin
                    community: '阳光花园社区',
                    level: '初级工蜂',
                    exp: 650,
                    expToNextLevel: 1000,
                    points: 650,
                    posts: 12,
                    collections: 36,
                    likes: 89
                };
            },
            
            // 获取用户等级
            getUserLevel(exp) {
                for (let i = this.userLevels.length - 1; i >= 0; i--) {
                    if (exp >= this.userLevels[i].exp) {
                        return this.userLevels[i];
                    }
                }
                return this.userLevels[0];
            },
            
            // 检查用户权限
            checkPermission(requiredRole) {
                const roles = ['resident', 'creator', 'admin'];
                const userRoleIndex = roles.indexOf(this.user.role);
                const requiredRoleIndex = roles.indexOf(requiredRole);
                return userRoleIndex >= requiredRoleIndex;
            },
            
            // 登录功能 - 独立的登录方法
            login(username, password, community, rememberMe) {
                console.log('Login attempt:', username, password);
                
                // 检查是否为管理员
                if (username === 'admin') {
                    if (password === 'YuanPing2025!') {
                        app.user = {
                            id: 0,
                            username: 'admin',
                            password: 'YuanPing2025!',
                            name: '社区管理员',
                            avatar: '管',
                            role: 'admin',
                            community: community,
                            level: '社区蜂王',
                            exp: 15000,
                            expToNextLevel: 15000,
                            points: 15000,
                            posts: 0,
                            collections: 0,
                            likes: 0
                        };
                        app.saveLoginState(rememberMe);
                        return true;
                    }
                    return false;
                }
                
                // 普通用户登录
                console.log('Looking for user in users array');
                console.log('Users count:', app.users.length);
                
                // 使用多种方法查找用户
                let matchedUser = null;
                
                // 方法1: 使用for循环
                for (let i = 0; i < app.users.length; i++) {
                    const user = app.users[i];
                    console.log(`Checking user ${i}:`, user.username, user.password === password);
                    if (user.username === username && user.password === password) {
                        matchedUser = user;
                        break;
                    }
                }
                
                // 方法2: 如果方法1失败，尝试使用filter
                if (!matchedUser) {
                    console.log('Trying filter method');
                    const filtered = app.users.filter(user => 
                        user.username.toLowerCase() === username.toLowerCase() && 
                        user.password === password
                    );
                    if (filtered.length > 0) {
                        matchedUser = filtered[0];
                        console.log('Found with filter:', matchedUser);
                    }
                }
                
                // 方法3: 如果方法2失败，尝试使用find
                if (!matchedUser) {
                    console.log('Trying find method');
                    matchedUser = app.users.find(user => 
                        user.username === username && user.password === password
                    );
                    console.log('Found with find:', matchedUser);
                }
                
                if (matchedUser) {
                    app.user = { ...matchedUser };
                    app.user.community = community;
                    app.saveLoginState(rememberMe);
                    return true;
                }
                
                return false;
            }
        };
        
        // 页面加载完成后执行
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOMContentLoaded event fired');
            console.log('app.users:', app.users);
            
            // 获取页面元素
            const pages = document.querySelectorAll('.page');
            const loginPage = document.getElementById('login-page');
            const homePage = document.getElementById('home-page');
            const profilePage = document.getElementById('profile-page');
            const loginBtn = document.getElementById('login-btn');
            const logoutBtn = document.getElementById('logout-btn');
            const navBtns = document.querySelectorAll('.nav-btn');
            const registerLink = document.getElementById('register-link');
            
            console.log('loginBtn:', loginBtn);
            
            // 页面切换函数
            function showPage(pageId) {
                console.log('Showing page:', pageId);
                pages.forEach(page => {
                    page.classList.add('hidden');
                    page.classList.remove('active');
                });
                const targetPage = document.getElementById(pageId);
                if (targetPage) {
                    targetPage.classList.remove('hidden');
                    targetPage.classList.add('active');
                } else {
                    console.error('Page not found:', pageId);
                }
            }
            
            // 登录按钮点击事件
            if (loginBtn) {
                loginBtn.addEventListener('click', function() {
                    console.log('Login button clicked');
                    
                    const communitySelect = document.getElementById('community');
                    const selectedCommunity = communitySelect.options[communitySelect.selectedIndex].text;
                    const usernameInput = document.getElementById('username');
                    const username = usernameInput.value.trim();
                    const passwordInput = document.getElementById('password');
                    const password = passwordInput.value.trim();
                    const rememberMe = document.getElementById('remember-me').checked;
                    
                    console.log('Form data:', {
                        community: selectedCommunity,
                        username: username,
                        password: password,
                        rememberMe: rememberMe
                    });
                    
                    // 表单验证
                    if (!selectedCommunity || selectedCommunity === '请选择您所在的社区') {
                        alert('请选择您所在的社区');
                        communitySelect.focus();
                        return;
                    }
                    
                    if (!username) {
                        alert('请输入用户名');
                        usernameInput.focus();
                        return;
                    }
                    
                    if (!password) {
                        alert('请输入密码');
                        passwordInput.focus();
                        return;
                    }
                    
                    // 尝试登录
                    const loginSuccess = app.login(username, password, selectedCommunity, rememberMe);
                    
                    if (loginSuccess) {
                        console.log('Login successful');
                        showPage('home-page');
                        updateProfileUI();
                    } else {
                        console.log('Login failed');
                        // 提供更详细的错误提示
                        const userExists = app.users.some(user => user.username === username);
                        if (username === 'admin') {
                            alert('管理员密码错误');
                        } else if (userExists) {
                            alert('密码错误');
                        } else {
                            alert('用户名不存在');
                        }
                    }
                });
            }
            
            // 注册链接点击事件
            if (registerLink) {
                registerLink.addEventListener('click', function(e) {
                    e.preventDefault();
                    alert('注册功能即将上线，敬请期待！');
                });
            }
            
            // 退出登录按钮点击事件
            if (logoutBtn) {
                logoutBtn.addEventListener('click', function() {
                    if (confirm('确定要退出登录吗？')) {
                        // 清除登录状态
                        app.clearLoginState();
                        
                        // 返回登录页面
                        showPage('login-page');
                        
                        // 重置登录表单
                        document.getElementById('community').value = '';
                        document.getElementById('username').value = '';
                        document.getElementById('password').value = '';
                        document.getElementById('remember-me').checked = false;
                    }
                });
            }
            
            // 底部导航按钮点击事件
            navBtns.forEach((btn, index) => {
                btn.addEventListener('click', function() {
                    navBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    
                    if (index === 0) {
                        showPage('home-page');
                    } else if (index === 4) {
                        showPage('profile-page');
                    }
                });
            });
            
            // 更新个人中心UI
            function updateProfileUI() {
                console.log('Updating profile UI for user:', app.user);
                
                // 更新个人信息
                const avatarElement = document.querySelector('#profile-page .w-16.h-16.rounded-full');
                const nameElement = document.querySelector('#profile-page h3.text-lg');
                const roleElement = document.querySelector('#profile-page span.bg-primary.text-white');
                const levelElement = document.querySelector('#profile-page p.text-sm.text-gray-500 span.text-primary');
                const expBar = document.querySelector('#profile-page .bg-primary.h-2');
                const expText = document.querySelector('#profile-page .text-xs.text-gray-500');
                const pointsElement = document.querySelector('#profile-page .text-lg.font-bold.text-primary');
                const postsElement = document.querySelector('#profile-page .text-lg.font-bold.text-gray-800:nth-child(2)');
                const collectionsElement = document.querySelector('#profile-page .text-lg.font-bold.text-gray-800:nth-child(3)');
                const likesElement = document.querySelector('#profile-page .text-lg.font-bold.text-gray-800:nth-child(4)');
                
                if (avatarElement) avatarElement.innerHTML = `<span class="text-xl font-medium">${app.user.avatar}</span>`;
                if (nameElement) nameElement.textContent = app.user.name;
                if (roleElement) roleElement.textContent = app.user.role === 'admin' ? '管理员' : 
                                                      app.user.role === 'creator' ? '内容创作者' : '普通居民';
                if (levelElement) levelElement.textContent = app.user.level;
                if (expBar) expBar.style.width = `${Math.min(100, (app.user.exp / app.user.expToNextLevel) * 100)}%`;
                if (expText) expText.textContent = `${app.user.exp}/${app.user.expToNextLevel}`;
                if (pointsElement) pointsElement.textContent = app.user.points;
                if (postsElement) postsElement.textContent = app.user.posts;
                if (collectionsElement) collectionsElement.textContent = app.user.collections;
                if (likesElement) likesElement.textContent = app.user.likes;
                
                // 显示/隐藏管理员入口
                const adminEntry = document.querySelector('.mt-4.bg-white.rounded-lg.overflow-hidden.card-shadow:last-child');
                if (adminEntry) {
                    if (app.user.role === 'admin') {
                        adminEntry.classList.remove('hidden');
                    } else {
                        adminEntry.classList.add('hidden');
                    }
                }
            }
            
            // 检查记住的登录状态
            if (app.checkRememberedLogin()) {
                // 自动登录
                console.log('Auto login successful');
                showPage('home-page');
                updateProfileUI();
            } else {
                // 默认显示登录页面
                console.log('No remembered login, showing login page');
                showPage('login-page');
            }
        });
    </script>
</body>
</html>
